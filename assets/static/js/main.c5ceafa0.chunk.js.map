{"version":3,"sources":["libs/api-client.js","hooks/use-api.js","components/todo-item.js","components/todo-list.js","App.js","reportWebVitals.js","index.js"],"names":["API_URL","location","host","client","getTodos","axios","get","headers","authorization","localStorage","getItem","addTodo","value","post","editTodo","todoId","a","order","done","undefined","patch","deleteTodo","delete","register","email","password","confirmPassword","nickname","login","getSelf","useApi","apiFn","useState","loading","setLoading","data","setData","error","setError","useCallback","axiosResponse","response","status","TodoItem","onUp","onDown","onDelete","onChange","disabled","children","editing","setEditing","setValue","type","checked","onDoubleClick","String","e","target","onBlur","onClick","TodoList","apiClient","getTodosApi","getTodosData","getTodosLoading","addTodoApi","addTodoLoading","editTodoApi","editTodoLoading","deleteTodoApi","deleteTodoLoading","isLoading","useEffect","inputData","alert","args","className","todos","map","todo","i","id","length","Boolean","doneAt","TodoApp","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c5ceafa0.chunk.js","sourcesContent":["import axios from \"axios\";\n\n// eslint-disable-next-line no-restricted-globals\nexport const API_HOST = `http://${location.host}`;\nconst API_URL = API_HOST + \"/api\";\n\nconst client = {\n  getTodos: () =>\n    axios.get(`${API_URL}/todos`, {\n      headers: {\n        authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n    }),\n  addTodo: (value) =>\n    axios.post(\n      `${API_URL}/todos`,\n      {\n        value,\n      },\n      {\n        headers: {\n          authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      }\n    ),\n  editTodo: async (todoId, { order, value, done } = {}) => {\n    if (!order && !value && done === undefined) {\n      return;\n    }\n\n    return axios.patch(\n      `${API_URL}/todos/${todoId}`,\n      {\n        value,\n        order,\n        done,\n      },\n      {\n        headers: {\n          authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      }\n    );\n  },\n  deleteTodo: (todoId) =>\n    axios.delete(`${API_URL}/todos/${todoId}`, {\n      headers: {\n        authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n    }),\n\n  register: ({ email, password, confirmPassword, nickname }) =>\n    axios.post(`${API_URL}/users`, {\n      email,\n      password,\n      confirmPassword,\n      nickname,\n    }),\n  login: ({ email, password }) =>\n    axios.post(`${API_URL}/auth`, {\n      email,\n      password,\n    }),\n  getSelf: () =>\n    axios.get(`${API_URL}/users/me`, {\n      headers: {\n        authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n    }),\n};\n\nexport default client;\n","import { useCallback, useState } from \"react\";\n\nexport const useApi = (apiFn) => {\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState(null);\n  const [error, setError] = useState(null);\n  const fetch = useCallback(\n    async (...args) => {\n      setError(null);\n      setData(null);\n      setLoading(true);\n      try {\n        const axiosResponse = await apiFn(...args);\n        setData(axiosResponse?.data);\n      } catch (error) {\n        if (error.response?.status === 400) {\n          setError(error.response?.data);\n        } else {\n          throw error;\n        }\n      } finally {\n        setLoading(false);\n      }\n    },\n    [apiFn]\n  );\n\n  return [fetch, data, loading, error];\n};\n","import { useState } from \"react\";\n\nexport const TodoItem = ({\n  onUp,\n  onDown,\n  onDelete,\n  onChange,\n  done,\n  disabled,\n  children,\n}) => {\n  const [editing, setEditing] = useState(false);\n  const [value, setValue] = useState(\"\");\n\n  const emitChange = () => {\n    if (value !== String(children)) {\n      onChange && onChange({ value });\n    }\n    setEditing(false);\n  };\n\n  return (\n    <>\n      <input\n        type=\"checkbox\"\n        checked={done}\n        onChange={() => onChange && onChange({ done: !done })}\n      />\n      {!editing && (\n        <span\n          onDoubleClick={() => setValue(String(children)) || setEditing(true)}\n        >\n          {children}\n        </span>\n      )}\n      {editing && (\n        <input\n          value={value}\n          onChange={(e) => setValue(e.target.value)}\n          onBlur={emitChange}\n        />\n      )}\n      <button onClick={() => onUp()} disabled={!onUp || disabled}>\n        up\n      </button>\n      <button onClick={() => onDown()} disabled={!onDown || disabled}>\n        down\n      </button>\n      <button onClick={() => onDelete()} disabled={!onDelete || disabled}>\n        삭제\n      </button>\n    </>\n  );\n};\n","import { useEffect, useState } from \"react\";\nimport apiClient from \"../libs/api-client\";\nimport { useApi } from \"../hooks\";\nimport { TodoItem } from \"./todo-item\";\n\nexport const TodoList = () => {\n  const [value, setValue] = useState(\"\");\n  const [getTodosApi, getTodosData, getTodosLoading] = useApi(\n    apiClient.getTodos\n  );\n  const [addTodoApi, , addTodoLoading] = useApi(apiClient.addTodo);\n  const [editTodoApi, , editTodoLoading] = useApi(apiClient.editTodo);\n  const [deleteTodoApi, , deleteTodoLoading] = useApi(apiClient.deleteTodo);\n\n  const isLoading =\n    getTodosLoading || addTodoLoading || editTodoLoading || deleteTodoLoading;\n\n  useEffect(() => {\n    getTodosApi();\n  }, [getTodosApi]);\n\n  const addTodo = async (inputData) => {\n    if (!inputData) {\n      alert(\"값을 입력해주세요\");\n      return;\n    }\n    await addTodoApi(inputData);\n    await getTodosApi();\n    setValue(\"\");\n  };\n\n  const editTodo = async (todoId, args) => {\n    await editTodoApi(todoId, args);\n    await getTodosApi();\n  };\n\n  const deleteTodo = async (todoId) => {\n    await deleteTodoApi(todoId);\n    await getTodosApi();\n  };\n\n  return (\n    <>\n      <input value={value} onChange={(e) => setValue(e.target.value)} />\n      <button onClick={() => addTodo(value)} disabled={isLoading}>\n        추가\n      </button>\n\n      <ul className=\"list-group\">\n        {(getTodosData?.todos || []).map((todo, i) => (\n          <li key={todo.id} className=\"list-group-item\">\n            <TodoItem\n              onUp={\n                i !== 0 && (() => editTodo(todo.id, { order: todo.order + 1 }))\n              }\n              onDown={\n                i !== getTodosData?.todos.length - 1 &&\n                (() => editTodo(todo.id, { order: todo.order - 1 }))\n              }\n              onDelete={() => deleteTodo(todo.id)}\n              disabled={isLoading}\n              done={Boolean(todo.doneAt)}\n              onChange={(args) => editTodo(todo.id, args)}\n            >\n              {todo.value}\n            </TodoItem>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n","import \"./App.css\";\nimport { TodoList } from \"./components/todo-list\";\n\nconst TodoApp = () => {\n  return (\n    <>\n      <TodoList />\n    </>\n  );\n};\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <TodoApp />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}